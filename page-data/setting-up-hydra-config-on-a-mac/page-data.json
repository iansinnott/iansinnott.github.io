{"componentChunkName":"component---src-templates-post-js","path":"/setting-up-hydra-config-on-a-mac/","result":{"data":{"post":{"canonicalURL":"https://blog.iansinnott.com/setting-up-hydra-config-on-a-mac/","content_html":"<p><span class=\"bold\">Update 2016-11-12:</span> I no longer use either Hydra or Mjolnir. Currently my go to app for window management is <a href=\"https://github.com/kasper/phoenix\">Phoenix</a>.</p>\n<p><span class=\"bold\">Update:</span> The Hydra project referenced in this post no longer exists. It&#39;s been succeeded by <a href=\"https://github.com/sdegutis/mjolnir\">Mjolnir</a>, a project by the initial creator of Hydra. So whenever you see me reference &quot;Hydra&quot; I&#39;m now actually referencing <a href=\"https://github.com/sdegutis/mjolnir\">Mjolnir</a>.</p>\n<h2>I Set Up Hydra to Minimize my Dependence on a Mouse</h2>\n<p><span class=\"italic\">This post is about moving one step closer to a mouse-less workflow, where any command can be accomplished trivially from the keyboard.</span></p>\n<p>I discovered <a href=\"https://github.com/sdegutis/mjolnir\">Hydra</a> through Hacker News earlier today, and it&#39;s almost everything I could wish for in a window management tool. My new setup allows me to manage windows somewhat like you see in the image bellow:</p>\n<p>![Keyboard Window Management]({{ site.url }}/public/images/hydra.gif)</p>\n<p>If you interested, <a href=\"https://github.com/sdegutis/dotfiles/blob/osx/home/.hydra/init.lua#L43%E2%B8%BBL50\">here&#39;s the source</a> to make Hydra work like you see in that image. But if you&#39;re like me, you will probably want to customize everything, so here&#39;s a quick tutorial on how to do that.</p>\n<h2>init.lua</h2>\n<p>If you just downloaded and installed Hydra, you will need to create an init file\nat <code >~/.hydra/init.lua</code>. This file will be read every time the app opens and any time you explicitly tell Hydra to reload its configuration.</p>\n<p>I would recommend copying in the sample file that Hydra will load if there is no init file present. That file is a great reference for both the Hydra api and Lua.</p>\n<h3>Lua</h3>\n<p>If you have no experience with Lua and want to set up some extreme window commands with Hydra don&#39;t worry. It turns out Lua is a pretty simple language. At least simple enough to write Hydra configuration quickly and effectively. I had absolutely no experience with Lua before today and now I have an effective Hydra setup. To me, Lua&#39;s syntax feels like a bit of a middle ground between Javascript, Ruby and Bash.</p>\n<h2>Hydra API</h2>\n<p>Hydra exposes a few useful global variables for you, but in my coding the most useful by far was <code >window</code>. Everything in my config files started with <code >window</code>, so that&#39;s what I&#39;ll cover here. Here is a snippet to grab the active frame and the screen:</p>\n<pre>local win = window.focusedwindow()\n\n-- If no focused window, just return\nif not win then return end\n\nlocal winframe = win:frame()\nlocal screenframe = win:screen():frame_without_dock_or_menu()\nlocal newframe = {\nx = winframe.x,\ny = winframe.y,\nw = winframe.w,\nh = winframe.h,\n}\n\n-- [Do stuff to newframe before setting it]\n\nwin:setframe(newframe)</pre>\n<p>That is a basic boilerplate for most things you would need to do with the active window in the active screen.</p>\n<h3>Frames</h3>\n<p>Not sure if the term &#39;frame&#39; is preexisting or if it is just something coined by the author of Hydra, but what it really means to the rest of us is a window. This can be confusing since <code >window</code> is itself a global variable and it is used to retrieve the active (or focused) frame. Basically, when you manipulate a frame you are manipulating that &#39;window&#39; in finder. When you resize a finder window with the mouse you are also manipulating a frame. To focus a frame, or make it active, just click on it or use the usual command tab.</p>\n<h3>Screens</h3>\n<p>In this post whenever I say screen, I will mean the result of calling:</p>\n<pre>window.focusedwindow():screen():frame_without_dock_or_menu()</pre>\n<p>That <code >frame_without_dock_or_menu</code> method is key, because it returns a rectangle that represents the &#39;usable&#39; part of your screen. That means everything except the top menu bar and the doc (if it&#39;s visible). This is important because people can put their doc wherever they like (left, bottom, right) but this function will always return the correct rectangle representing the usable portion of the screen.</p>\n<p>Screens also have a second feature. This is a feature I never had a use for so I didn&#39;t explore it, but as far as I can tell these are &#39;Spaces&#39; on a Mac. So if you use a ton of different spaces in your workflow this would be a good place to do some optimizing.</p>\n<h2>Example</h2>\n<p>That&#39;s pretty much all you would need to know to get started. Here some gists taken directly from <a href=\"https://github.com/iansinnott/dotfiles/tree/master/dotfiles/hydra\">my own dotfiles</a></p>\n<p>First off, my init file which binds resize and window motion commands to a &#39;meta&#39; key, which I defined as cmd+shift:</p>\n<p>{% gist iansinnott/2cbecf87d9273a0d5918 %}</p>\n<p>I put most of the actual logic in a separate file to keep things tidy:</p>\n<p>{% gist iansinnott/0c9a0dcba88e6d0de0e5 %}</p>\n<p>That&#39;s all. Feel free to leave a comment if there&#39;s anything you would add. So far this has been all I need to keep my hands on the keyboard.</p>","properties":{"tags":null,"created":"2014-07-03T00:00:00.000Z","title":"Setting Up Hydra Config on A Mac","disqusId":null}}},"pageContext":{"id":"cd3e66dc-c75d-5285-873b-685c23c98f97","prev":{"id":"54889f45-1859-513a-959a-8152f6951c95","slug":"jekyll-management-like-a-boss","properties":{"title":"Jekyll Management Like a Boss","created":"2014-06-28T00:00:00.000Z"}}}}}