{"componentChunkName":"component---src-templates-post-js","path":"/how-to-disable-live-reload-in-create-react-app/","result":{"data":{"post":{"canonicalURL":"https://blog.iansinnott.com/how-to-disable-live-reload-in-create-react-app/","content_html":"<h1>How to disable live reload in create-react-app</h1>\n<p>Here you go, insert this code into your HTML file. Probably located at <code >public/index.html</code>.</p>\n<pre>&lt;% if (process.env.REACT_APP_DISABLE_LIVE_RELOAD === &quot;true&quot;) { %&gt;\n&lt;!-- \n  Live Reload was causing issues for us. Disable it by starting the app with\n  REACT_APP_DISABLE_LIVE_RELOAD=true\n--&gt;\n&lt;script&gt;\n  {\n    var WS = window.WebSocket;\n    function DevWebSocket(s) {\n      if (s === &quot;ws://localhost:3000/sockjs-node&quot;) {\n        console.info(&quot;[DEV NOTICE] Live Reload Has Been Disabled&quot;);\n        return {};\n      } else {\n        // Pass through other usage of sockets\n        return new WS(s);\n      }\n    }\n    window.WebSocket = DevWebSocket;\n  }\n&lt;/script&gt;\n&lt;% } %&gt;</pre>\n<p>Then on the command line just set that environment variable when you start the app:</p>\n<pre>REACT_APP_DISABLE_LIVE_RELOAD=true yarn start</pre>\n<h1>A quick explanation</h1>\n<p>create-react-app uses web sockets to trigger a refresh in the browser. Since there is no option to disable this behavior we can take matters into our own hands. We do this by overwriting the global <code >WebSocket</code> constructor. Then if we detect that create-react-app is trying to set up live reload we just return an empty object. Voila. </p>\n<h1>Why?</h1>\n<p>Fair question. Usually live reload is a boon to development. However, I have a project where I&#39;m using an app in development as a CMS. In a sense I&#39;m running a &quot;production&quot; app in dev mode, which is admittedly odd. </p>\n<p>The point though is that I&#39;m using it as a CMS. That means I&#39;m creating and editing content in the browser. If I notice something in the app that I want to change I might make a code change as well. A live reload could easily destroy any unsaved content I&#39;ve created. Think of it like when your computer used to freeze in the middle of writing a long essay in Word. You might just lose all your progress, which is not great.</p>\n<p>The broader point though is that philosophically I believe software should be configurable. This is doubly true for dev software. In the world of JS there seems to have been a trend away from configuration. I understand this since too much configuration (Webpack...) can turn developers away from otherwise interesting and useful projects. However, we can have the best of both worlds. Having sensible defaults <span class=\"italic\">that can be changed</span> is the answer. Similar to the Ruby on Rails philosophy perhaps. </p>\n<p>Have defaults, but let me configure them if my use case requires it.</p>","properties":{"tags":"development,react","created":"2020-08-08T00:00:00.000Z","title":"How to Disable Live Reload in create-react-app","disqusId":null}}},"pageContext":{"id":"fa801eaa-74f2-5ed0-b2c6-e6462967c7aa","prev":{"id":"53fa11f7-101a-5e98-8dba-576845dcc62c","slug":"the-state-of-the-art","properties":{"title":"The State of the Art","created":"2020-05-31T00:00:00.000Z"}}}}}